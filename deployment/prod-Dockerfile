FROM ubuntu:14.04
MAINTAINER Kelei Gong, kgong@ncsu.edu

RUN apt-get update
RUN apt-get -y install git
RUN apt-get -y install nodejs
RUN apt-get -y install npm
RUN apt-get -y install wget
RUN wget http://download.redis.io/releases/redis-3.0.5.tar.gz
RUN tar xzf redis-3.0.5.tar.gz
RUN cd /redis-3.0.5; make
RUN cd /
RUN git clone -b master https://github.com/DevOpsGHZ/M3-Deployment
RUN cd /M3-Deployment/src; npm install
EXPOSE 3000
WORKDIR /M3-Deployment/src
CMD ["nodejs", "app.js"]
